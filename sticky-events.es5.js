!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.StickyEvents=e():t.StickyEvents=e()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t};e.observeStickyEvents=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;window.requestAnimationFrame(function(){!function(t){var e=new IntersectionObserver(function(t){t.forEach(function(t){var e=t.boundingClientRect,n=t.target.parentElement,o=n.querySelector(c),r=t.rootBounds;n.style.position="relative",e.bottom<r.top&&s(!0,o),e.bottom>=r.top&&e.bottom<r.bottom&&s(!1,o)})},o({threshold:[0]},!(t instanceof HTMLDocument)&&{root:t}));u(t,i.SENTINEL_TOP).forEach(function(t){return e.observe(t)})}(t),function(t){var e=new IntersectionObserver(function(t){t.forEach(function(t){var e=t.boundingClientRect,n=t.target.parentElement.querySelector(c),o=t.rootBounds,r=t.intersectionRatio,i=Math.round(e.top/o.height);e.bottom>o.top&&1===r&&0===i&&s(!0,n),e.top<o.top&&e.bottom<o.bottom&&s(!1,n)})},o({threshold:[1]},!(t instanceof HTMLDocument)&&{root:t}));u(t,i.SENTINEL_BOTTOM).forEach(function(t){return e.observe(t)})}(t)})};var r=e.StickyEvent={CHANGE:"sticky-change",STUCK:"sticky-stuck",UNSTUCK:"sticky-unstuck"},i={SENTINEL:"sticky-events--sentinel",SENTINEL_TOP:"sticky-events--sentinel-top",SENTINEL_BOTTOM:"sticky-events--sentinel-bottom"},c=".sticky-events";function s(t,e){e.dispatchEvent(new CustomEvent(r.CHANGE,{detail:{isSticky:t}})),e.dispatchEvent(new CustomEvent(t?r.STUCK:r.UNSTUCK))}function u(t,e){return Array.from(t.querySelectorAll(c)).map(function(t){var n=document.createElement("div");n.classList.add(i.SENTINEL,e);var o=t.parentElement.appendChild(n);return Object.assign(o.style,function(t,e,n){var o=window.getComputedStyle(t),r=window.getComputedStyle(t.parentElement),c=parseInt(r.paddingTop);switch(n){case i.SENTINEL_TOP:return{top:"calc("+-(e.scrollHeight-c)+"px + "+o.top+")"};case i.SENTINEL_BOTTOM:return{bottom:o.top,height:t.scrollHeight+c+"px"};default:return{}}}(t,o,e)),o})}}])});